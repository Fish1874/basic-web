## qs模块

> [npm文档](https://www.npmjs.com/package/qs)  主要用于字符串解析和序列化字符串的库。

在我们进行json格式文件的保存的时候,我们会要求有格式的保存,而不是保存为一整行的内容,这种将对象的状态转化为字符串的形式其实也就是对象的序列化行为



1. **qs.parse()** 将URL解析成对象的形式

```javascript
const Qs = require('qs');
let url = 'method=query_sql_dataset_data&projectId=85&appToken=7d22e38e-5717-11e7-907b-a6006ad3dba0';
Qs.parse(url);
console.log(Qs.parse(url));
```

输出：

```javascript
{
    method: "query_sql_dataset_data",
    projectId: "85",
    appToken: "7d22e38e-5717-11e7-907b-a6006ad3dba0",
    datasetId: " 12564701"
};
```

2. **qs.stringify()** 将对象 序列化成URL的形式，以&进行拼接

```javascript
const Qs = require('qs');
let obj= {
     method: "query_sql_dataset_data",
     projectId: "85",
     appToken: "7d22e38e-5717-11e7-907b-a6006ad3dba0",
     datasetId: " 12564701"
   };
Qs.stringify(obj);
console.log(Qs.stringify(obj));
```

输出：

```
method=query_sql_dataset_data&projectId=85&appToken=7d22e38e-5717-11e7-907b-a6006ad3dba0&datasetId=12564701
```

当我们需要传递数组的时候，我们就可以通过下面方式进行处理：

```javascript
qs.stringify({ a: ['b', 'c', 'd'] });
// 'a[0]=b&a[1]=c&a[2]=d'
```

也可以进行重写这种默认方式为`false`

```javascript
qs.stringify({ a: ['b', 'c', 'd'] }, { indices: false });
// 'a=b&a=c&a=d'
```

也可以通过`arrayFormat` 选项进行格式化输出：

```javascript
qs.stringify({ a: ['b', 'c'] }, { arrayFormat: 'indices' })
// 'a[0]=b&a[1]=c'
qs.stringify({ a: ['b', 'c'] }, { arrayFormat: 'brackets' })
// 'a[]=b&a[]=c'
qs.stringify({ a: ['b', 'c'] }, { arrayFormat: 'repeat' })
// 'a=b&a=c'
```



参考文章：https://blog.csdn.net/suwu150/article/details/78333452