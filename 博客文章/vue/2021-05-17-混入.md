**混入（mixin）**，用于分发 Vue 组件中的可复用功能。一个混入对象可以包含任意组件选项。

大白话：就是对象的合并`Object.assign()` ，只是vue加工了一些操作。

## 基本使用

> 将常用的JS函数封装成一个对象，通过mixins混入，以此减少代码的冗余。

其实我直接新建一个library.js，通过import导入不也是实现这个需求吗? 是可以；但mixin更强大，你甚至可以提前定义好通用的data数据，想要改时，在当前组件变可以直接覆盖了！

比如： A.vue 和 B.vue都需要*保留小数点相加*

那我可以写一个libraries.js

```javascript
const leiku =  {
  data(){
    return {}
  },
  methods: {
    /** 保留小数点相加
     * @param {number, number}
     * @return {number}
     */
    addNum(num1, num2) {
      let sq1 = num1.toString().includes('.') ? num1.toString().split('.')[1].length : 0;
      let sq2 = num2.toString().includes('.') ? num2.toString().split('.')[1].length : 0;
      let m = Math.pow(10, Math.max(sq1, sq2));
      return (num1 * m + num2 * m) / m;
    }
  }
}

```

然后在A、B组件直接混入使用就行了！

```vue
<script>
import {leiku} from '@/mixin/libraries';
    
export default {
	name: 'A',
    mixins: [ leiku ],
    mounted(){
        this.addNum(0.1,0.2); // 直接就可以使用啦~
    }
}
    
</script>
```



## 特性

1. 当mixin和组件 的数据发送冲突时, 以组件的为准。

2. 当同时存在同名钩子函数时，都会被执行； mixin的钩子先执行，再执行组件的！

3. 当同时存在 键值对时，以组件的为准。

   ```
   var mixin = {
   	methods: {
   		aaa: function() {
   			console.log('我是混入的aaa函数')
   		}
   	}
   }
   
   var vm = new Vue({
   	mixins: [mixin],
   	methods: {
   		aaa: function() {
   			console.log('我是组件的aaa函数')
   		}
   	}
   })
   // 执行 aaa函数， 则打印 '我是组件的aaa函数'
   ```

   

【注】全局混入，需要注意，它会被注册到每一个组件上；除非必要，否则少使用。使用时也要注意添加限制条件：

```javascript
Vue.mixin({
	created() {
		var aComponent = this.$options.aComponent;
		if (aComponent) {...};
	}
});
    
new Vue({
  aComponent: '我才会用到呀!'
})
// => "我才会用到呀!"
```

混合非常适合封装一些复用的代码！但不要滥用。