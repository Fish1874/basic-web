## $attrs

> 当父组件传给子组件属性时，子组件的props并没有接收，则由 `$attrs` 接收。
>
> 常用于封装公用组件的情况！实现属性穿透传递

```
// home传递的属性， bottom想要用！
// 1.vuex 2.v-bind="$attrs" 通过 center作为中转站
<home>
    <center-child>
        <bottom-child>
        </bottom-child>
    </center-child>
</home>
```



**父组件**

```vue
<template>
  <div>
    /** v-bing="{}" 批量传多个属性
     *  相当于>>> <home-child :name="李四" :age="10"</home-child>
     */
    <center-child :list="['数据一', '数据二']" v-bind="{name: '李四', age: 10 }"></center-child>
  </div>
</template>
<script>
import CenterChild from "./components/CenterChild";
export default {
  name: "父组件",
  components: {
    CenterChild
  },
</script>
```

**子组件 center-child**

![](C:\Users\wilson\Desktop\博客先写在这，再传到语雀\images\vueImg\$attrs1.png)

```vue
<template>  
  <div>
    <p>{{name}} - {{age}} 岁</p>
    <p>{{$attrs}}</p>
 
    // 属性跨级传递
    <bottom-child v-bind="$attrs"></bottom-child>
  </div>
</template>

<script>
import BottomChild from "./components/BottomChild";
export default {
  name: "CenterChild",
  components: {
    BottomChild
  },
</script>

```

**最底层组件 bottom-child**

![](C:\Users\wilson\Desktop\博客先写在这，再传到语雀\images\vueImg\$attrs2.png)

```vue
<template>  
  <div>
    <p
      v-for="(item，index) in list"
      :key="index"
    >{{item}}</p>
  </div>
</template>

<script>
export default {
  name: "最底层的子组件",
  props: ['list'], // 接收父组件中未被 "底层的子组件" props接受到的值
</script>
```



## $listeners

> 和$attrs一样， 区别$attrs是监听的是属性，$listeners是监听的是事件

**伪代码**

```
// 父组件中 home：
<home-child @aaa="onHandleClick"><top>
onHandleClick() {
	console.log('父爱如山')
}

// 底层组件中 center-child：
<bottom-child v-on="$listeners"></child-child>	// 将事件传递给最底层的子组件

// 最底层组件内 bottom-center：
<a @click="$listeners.aaa()">点击</a> // 父爱如山
```

