## 任务二十五

实现一个树形组件

参考：http://www.shouce.ren/study/api/s/jq--BootstrapCaidan--index.html

## 任务要求

- 节点的折叠与展开

- 允许增加节点与删除节点

- 按照内容进行节点查找，并且把找到的节点进行特殊样式呈现，如果找到的节点处于被父节点折叠隐藏的状态，则需要做对应的展开

- 尽量做到样式交互、节点数据、节点操作的解耦

## 需求设计

1. 每个结点有一个文字标题

2. 若无子节点，标题前为空；若有子节点，且处于折叠状态，则标题前显示右三角，展开状态显示下三角

3. 鼠标移到标题上时，标题字变为蓝色，且标题后面出现“增”“删”两个选项可点击；移走则上述效果消失

4. 点击“增”，则弹出prompt框，提示用户输入结点标题；点击“删”直接删除当前结点及子节点

5. 搜索从根开始，层序遍历，找到的节点粗体、红色显示，且其所有祖先节点展开

## 感想

这是第一次做一个功能相对完整的组件，在实现功能之后，又花了相同的时间重构代码

不要在JS代码中设置style，这样会造成JS与样式强耦合，一旦需求有变，修改起来很麻烦。应该在CSS中定义好样式，在JS中通过增删类名来控制DOM的样式

不要用HTML结构来定义DOM结点的“身份”，类似“树节点的文本内容在结点DIV的第二个子节点里”这种判断方式千万不要出现，因为这同样意味着JS与样式强耦合；用类名

创建TreeNode引用类型并使其与DOM里的树节点对象一一对应，有利于实现样式、数据、操作的解耦

## tips:

img放在block元素中会导致奇怪的间隙出现，请使用vertical-align: top/bottom/text-top/text-bottom;解决之

prompt点击cancel返回null

DOM元素上自定义的属性要使用getter/setter或attributes[]方法访问